<!DOCTYPE html>
<html>
<head>
    <title>Turing Display</title>
	<link rel="stylesheet" href="interface.css">
	
	<script type="text/javascript" src="display.js"></script>

	<script type="text/javascript" src="turing.js"></script>

	<script type="text/javascript" src="exception.js"></script>
	<script type="text/javascript" src="lexer.js"></script>
	<script type="text/javascript" src="parser.js"></script>
	<script type="text/javascript" src="ast.js"></script>
	<script type="text/javascript" src="assembler.js"></script>
	<script type="text/javascript" src="compiler.js"></script>
	<script>
		let turing = new Turing();
		let display = new Display();
	</script>
</head>
<body id="turingInterface">
	<div id="mainContainer">
		<div id="emulator">
			<div id="menu">
				<div id="tapeMoveMenu">
					<div>
						<button id="moveUpButton" onclick="display.makeBoardMove(Direction.UP, document.getElementById('moveUpAmount').value)">Up</button>
						<textarea id="moveUpAmount">10</textarea>
					</div>
					<div>
						<button  id="moveDownButton" onclick="display.makeBoardMove(Direction.DOWN, document.getElementById('moveDownAmount').value)">Down</button>
						<textarea id="moveDownAmount">10</textarea>
					</div>
					<div>
						<button id="moveLeftButton" onclick="display.makeBoardMove(Direction.LEFT, document.getElementById('moveLeftAmount').value)">Left</button>
						<textarea id="moveLeftAmount">10</textarea>
					</div>
					<div>
						<button id="moveRightButton" onclick="display.makeBoardMove(Direction.RIGHT, document.getElementById('moveRightAmount').value)">Right</button>
						<textarea id="moveRightAmount">10</textarea>
					</div>
				</div>
				<div id="runMenu" >
					<div>
						<label id="animationLabel" for="animationCheckBox">Animation</label>
						<input type="checkbox" id="animationCheckBox" checked autocomplete="off"/>
					</div>
					<div>
						<label id="sliderLabel">Animation speed:</label>
						<input id="animationTime" type="range" min="1" max="100" value="50" class="slider" autocomplete="off">
						<label id="animationTimeLabel">100%</label>
					</div>
					<div>
						<button id="startButton">Start</button>
						<button id="resetButton" onclick="turing.resetTuring()" hidden="true">Reset</button>
					</div>
					<div id="startErrorDiv">
						<label id="startErrorLabel"></label>
					</div>
				</div>
			</div>
			<div id="turingCanvas">
			
				<canvas id="canvas" width="770" height="770" style="margin:auto;display:block"></canvas>
			</div>
		</div>
		<div id="editor">
			<div>
				<h2>Insert Data</h2>
				<textarea id="inputData">Area&#13;&#10;Help&#13;&#10;Needed&#13;&#10;Immediately&#13;&#10;Andrzej&#13;&#10;Droprate&#13;&#10;Such&#13;&#10;a</textarea>
				<br/>
				<button id="inputButton" onclick="display.insertData()">Insert</button> 
			</div>
			<div id="program">
				<h2>Prigram</h2>
				<textarea id="inputProgram">
//Example code: Bubble Sort

//moveLeft - initial state 5
(@=<'A','Z'>,5)=>(@,5)-x
(@=<'a','z'>,5)=>(@,5)-x
//jak dotrzesz do końca przejdź w stan 7 -> sprawdź czy moveUp czy moveRight
(@=0,5)=>(@,7)+x+y

//sprawdź czy moveRight - initial state 7
(@=<'A','Z'>,7)=>(@,0)
(@=<'a','z'>,7)=>(@,0)
//sprawdź czy moveUp
(@=0,7)=>(@,13)-y

//moveUp - initial state 13
(@=<'A','Z'>,14)=>(@,14)-y
(@=<'a','z'>,14)=>(@,14)-y
//jak dotrzesz do początku przejdź w stan 15 -> sprawdzenie, czy posortowano
(@=0,14)=>(@,15)-x+y
(@=0,15)=>(@,0)+x
(@='*',15)=>(0,33)+x
//stan końcowy
(@=<'A','Z'>,33)=>(@,33)
(@=<'a','z'>,33)=>(@,33)

//oznaczenie posortowania ostatniego elementu
(@=<'A','Z'>,13)=>(@,13)-x
(@=<'a','z'>,13)=>(@,13)-x
(@=0,13)=>('*',14)+x-y

//exchange - initial state 99
(@=<'A','Z'>,99)=>(@,101+@-'A')+y
(@=<'a','z'>,99)=>(@,101+@-'A')+y
(@=0,99)=>(@,100)+y

(@=<'A','Z'>,S=<101,160>)=>(S-101+'A',201+@-'A')-y
(@=<'a','z'>,S=<101,160>)=>(S-101+'A',201+@-'A')-y
(@=0,S=<101,160>)=>(S-101+'A',200)-y
(@=<'A','Z'>,100)=>(0,201+@-'A')-y
(@=<'a','z'>,100)=>(0,201+@-'A')-y
(@=0,100)=>(@,21)-y

(@=0,21)=>(@,21)-x
(@=<'A','Z'>,21)=>(@,5)
(@=<'a','z'>,21)=>(@,5)

(@=<'A','Z'>,S=<201,260>)=>(S-201+'A',99)+x
(@=<'a','z'>,S=<201,260>)=>(S-201+'A',99)+x
(@=0,S=<201,260>)=>(S-201+'A',99)+x
(@=<'A','Z'>,S=200)=>(0,99)+x
(@=<'a','z'>,S=200)=>(0,99)+x

//check if exchange needed - initial state 0
(@=<'A','Z'>,0)=>(@,1)+y
(@=<'a','z'>,0)=>(@,1)+y
(@=0,0)=>(@,0)

(@=0,1)=>(@,13)-y

(@=<'A','Z'>,1)=>(@,2)-x
(@=<'a','z'>,1)=>(@,2)-x

(@='*',2)=>(0,3)-y
(@=0,2)=>(@,79)+x-y

(@=0,3)=>('*',14)+x

(@=<'A','Z'>,79)=>(@,301+@-'A')+y
(@=<'a','z'>,79)=>(@,301+@-'a')+y
(@=0,79)=>(@,300)+y

(@=<'A','Z'>,S=<301,360>)=>(@,S-301-@+'A'+450)-y
(@=<'a','z'>,S=<301,360>)=>(@,S-301-@+'a'+450)-y
(@=0,S=<301,360>)=>(@,451)-y
(@=<'A','Z'>,300)=>(@,449)-y
(@=<'a','z'>,300)=>(@,449)-y
(@=0,300)=>(@,21)-y

(@=<'A','Z'>,S=<420,449>)=>(@,21)
(@=<'a','z'>,S=<420,449>)=>(@,21)
(@=0,S=<420,449>)=>(@,21)

(@=<'A','Z'>,450)=>(@,79)+x
(@=<'a','z'>,450)=>(@,79)+x
(@=0,450)=>(@,79)+x

(@=<'A','Z'>,S=<451,480>)=>(@,81)
(@=<'a','z'>,S=<451,480>)=>(@,81)
(@=0,S=<451,480>)=>(@,81)

(@=0,81)=>(@,81)-x
(@=<'A','Z'>,81)=>(@,85)
(@=<'a','z'>,81)=>(@,85)

(@=<'A','Z'>,85)=>(@,85)-x
(@=<'a','z'>,85)=>(@,85)-x
(@=0,85)=>(@,99)+x			
				</textarea>
				<div id="compileLoader">
					<div id="compileButtonDiv">
						<button id="buttonCompile" onclick="compile()">Compile</button> 
					</div>
					<div id="loaderDiv" class="loader" hidden="true"></div>
					<div id="compileCheckBoxDiv">
						<input id="compileCheckBox" type="checkbox" checked autocomplete="off"/>
						<label id="compileCheckBoxLabel">Show compiled code? (It may take a while)</label>
					</div>
				</div>
			</div>
			<div id="code">
				<h2>Code</h2>
				<textarea id="outputCode" readonly autocomplete="off"></textarea>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="interface.js"></script>
</body>
</html>